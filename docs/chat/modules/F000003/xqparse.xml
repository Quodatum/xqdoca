<XQuery>(:~
 : Simple WebSocket chat. RESTXQ functions.
 : @author BaseX Team 2005-23, BSD License
 :)
<Module><LibraryModule><ModuleDecl><TOKEN>module</TOKEN> <TOKEN>namespace</TOKEN> <NCName><NCName>chat</NCName></NCName> <TOKEN>=</TOKEN> <URILiteral><StringLiteral>'chat'</StringLiteral></URILiteral><Separator><TOKEN>;</TOKEN></Separator></ModuleDecl>

<Prolog><Import><ModuleImport><TOKEN>import</TOKEN> <TOKEN>module</TOKEN> <TOKEN>namespace</TOKEN> <NCName><NCName>chat-util</NCName></NCName> <TOKEN>=</TOKEN> <URILiteral><StringLiteral>'chat/util'</StringLiteral></URILiteral> <TOKEN>at</TOKEN> <URILiteral><StringLiteral>'chat-util.xqm'</StringLiteral></URILiteral></ModuleImport></Import><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Login or main page.
 : @return HTML page
 :)  
<AnnotatedDecl><TOKEN>declare</TOKEN>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:path</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'/chat'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>output:method</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'html'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
<FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:chat</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><IfExpr><TOKEN>if</TOKEN><TOKEN>(</TOKEN><Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>session:get</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>chat-util:id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>)</TOKEN> <TOKEN>then</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN>
    <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>chat:main</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
  <TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle> <TOKEN>else</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN>
    <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>chat:login</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
  <TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></IfExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Checks the user input, registers the user and reloads the chat.
 : @param  $name  username
 : @param  $pass  password
 : @return redirection
 :)  
<AnnotatedDecl><TOKEN>declare</TOKEN>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:POST</QName></FunctionName></QName></EQName></Annotation>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:path</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'/chat/login-check'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:query-param</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'name'</StringLiteral></Literal><TOKEN>,</TOKEN> <Literal><StringLiteral>'{$name}'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:query-param</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'pass'</StringLiteral></Literal><TOKEN>,</TOKEN> <Literal><StringLiteral>'{$pass}'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
<FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:login-check</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN>
  <ParamList><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>name</QName></FunctionName></QName></EQName>  <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><AtomicOrUnionType><EQName><QName><FunctionName><QName>xs:string</QName></FunctionName></QName></EQName></AtomicOrUnionType></ItemType></SequenceType></TypeDeclaration></Param><TOKEN>,</TOKEN>
  <Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>pass</QName></FunctionName></QName></EQName>  <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><AtomicOrUnionType><EQName><QName><FunctionName><QName>xs:string</QName></FunctionName></QName></EQName></AtomicOrUnionType></ItemType></SequenceType></TypeDeclaration></Param></ParamList>
<TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>rest:response</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><TryCatchExpr><TryClause><TOKEN>try</TOKEN> <EnclosedTryTargetExpr><EnclosedExpr><TOKEN>{</TOKEN>
    <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>user:check</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>name</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>pass</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
    <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>session:set</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>chat-util:id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>name</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
  <TOKEN>}</TOKEN></EnclosedExpr></EnclosedTryTargetExpr></TryClause> <CatchClause><TOKEN>catch</TOKEN> <CatchErrorList><NameTest><Wildcard>user:*</Wildcard></NameTest></CatchErrorList> <EnclosedExpr><TOKEN>{</TOKEN>
    (: login fails: no session info is set :)
  <TOKEN>}</TOKEN></EnclosedExpr></CatchClause></TryCatchExpr></ExprSingle><TOKEN>,</TOKEN>
  <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>web:redirect</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>'/chat'</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Logs out the current user, notifies all WebSocket clients, and redirects to the login page.
 : @return redirection
 :)
<AnnotatedDecl><TOKEN>declare</TOKEN>
  <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>rest:path</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><Literal><StringLiteral>'/chat/logout'</StringLiteral></Literal><TOKEN>)</TOKEN></Annotation>
<FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:logout</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>rest:response</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>session:get</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>chat-util:id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr> <TOKEN>!</TOKEN> <StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>chat-util:close</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ContextItemExpr><TOKEN>.</TOKEN></ContextItemExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
  <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>session:delete</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>chat-util:id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
  <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>web:redirect</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>'/chat'</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Returns the HTML login page.
 : @return HTML page
 :)
<AnnotatedDecl><TOKEN>declare</TOKEN> <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>private</QName></FunctionName></QName></EQName></Annotation> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:login</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>html</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>chat:wrap</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN>
    <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>w</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>P</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>l</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>n</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>r</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>y</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>u</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>r</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>c</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>r</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>d</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>n</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>i</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>l</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>:</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
    <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>form</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>action</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>-</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>k</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>method</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>p</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>table</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>N</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>m</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>:</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>input</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>size</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>3</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>name</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>id</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>autofocus</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>P</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>w</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>r</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>d</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>:</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN>
            <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>input</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>size</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>3</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>p</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>w</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>d</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>name</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>p</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
            <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>button</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>b</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>L</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>g</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>i</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>n</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>button</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
          <TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>table</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>form</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
  <TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Returns the HTML main page.
 : @return HTML page
 :)
<AnnotatedDecl><TOKEN>declare</TOKEN> <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>private</QName></FunctionName></QName></EQName></Annotation> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:main</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>html</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>chat:wrap</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN>
    <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>p</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>input</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>x</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>size</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>6</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>autofocus</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>placeholder</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>M</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar></AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S>
             </S><QName><FunctionName><QName>id</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>p</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>onkeydown</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>k</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>y</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>D</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>w</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>(</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>v</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>)</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>autocomplete</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>f</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>f</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>p</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle><TOKEN>,</TOKEN>
    <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>table</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>width</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>1</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>%</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>width</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>1</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>U</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>E</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>R</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>(</ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>n</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>l</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>i</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>n</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>)</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>id</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>v</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>C</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>H</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>A</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>T</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>M</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>E</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>A</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>G</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>E</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><TOKEN>div</TOKEN></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>id</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>td</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>tr</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>table</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
  <TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>script</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>x</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>j</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>v</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>p</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>src</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>.</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>j</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>

(:~
 : Returns an HTML page.
 : @param $contents  page contents
 : @param $login     login page
 : @return HTML page
 :)
<AnnotatedDecl><TOKEN>declare</TOKEN> <Annotation><TOKEN>%</TOKEN><EQName><QName><FunctionName><QName>private</QName></FunctionName></QName></EQName></Annotation> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>chat:wrap</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN>
  <ParamList><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>contents</QName></FunctionName></QName></EQName>  <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><TOKEN>item</TOKEN><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ItemType><OccurrenceIndicator><TOKEN>*</TOKEN></OccurrenceIndicator></SequenceType></TypeDeclaration></Param><TOKEN>,</TOKEN>
  <Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>headers</QName></FunctionName></QName></EQName>   <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType><OccurrenceIndicator><TOKEN>*</TOKEN></OccurrenceIndicator></SequenceType></TypeDeclaration></Param></ParamList>
<TOKEN>)</TOKEN> <TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>html</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType> <FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>
  <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>html</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>head</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>meta</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>charset</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>f</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>-</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>8</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>title</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>B</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>X</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>W</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>b</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>c</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>k</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>C</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>h</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>title</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>meta</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>name</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>content</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>B</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>X</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>T</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>2</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>0</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>5</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>-</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>2</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>3</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>,</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>B</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>S</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>D</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>L</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>link</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>rel</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>y</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>x</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>href</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>y</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>.</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN> <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>headers</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr> <TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>head</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>body</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>span</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN>
          <Expr><ExprSingle><FLWORExpr><InitialClause><ForClause><TOKEN>for</TOKEN> <ForBinding><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>id</QName></FunctionName></QName></EQName></VarName> <TOKEN>in</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>session:get</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>chat-util:id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></ForBinding></ForClause></InitialClause>
          <ReturnClause><TOKEN>return</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>span</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN> <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>id</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr> <TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>b</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>(</ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>a</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>href</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>h</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>l</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>l</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>g</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>u</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>a</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>)</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>span</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></ReturnClause></FLWORExpr></ExprSingle></Expr>
        <TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><CommonContent><CharRef>&amp;#xa0;</CharRef></CommonContent></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>a</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>href</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>img</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>src</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>c</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>/</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>b</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>x</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>.</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>s</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>v</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>class</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>i</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>a</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>span</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>h1</QName></FunctionName></QName><DirAttributeList/><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>B</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>s</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>X</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>W</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>b</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>S</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>o</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>c</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>k</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>e</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>C</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>h</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>a</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>t</ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>h1</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN> <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>contents</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr> <TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>body</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>html</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr>
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator></Prolog></LibraryModule></Module>
<EOF/></XQuery>