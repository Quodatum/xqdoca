<XQuery><Module><VersionDecl><TOKEN>xquery</TOKEN> <TOKEN>version</TOKEN> <StringLiteral>"3.1"</StringLiteral><Separator><TOKEN>;</TOKEN></Separator></VersionDecl>&#xD;
(:~&#xD;
talk to graphxq server.&#xD;
@copyright Copyright (c) 2019-2026 Quodatum Ltd&#xD;
@author Andy Bunce, Quodatum, License: Apache-2.0&#xD;
:)&#xD;
<LibraryModule><ModuleDecl><TOKEN>module</TOKEN> <TOKEN>namespace</TOKEN> <NCName><NCName>gxq</NCName></NCName> <TOKEN>=</TOKEN> <URILiteral><StringLiteral>'quodatum:service.graphxq'</StringLiteral></URILiteral><Separator><TOKEN>;</TOKEN></Separator></ModuleDecl>&#xD;
<Prolog><Import><ModuleImport><TOKEN>import</TOKEN> <TOKEN>module</TOKEN> <TOKEN>namespace</TOKEN> <NCName><NCName>http</NCName></NCName><TOKEN>=</TOKEN><URILiteral><StringLiteral>"http://expath.org/ns/http-client"</StringLiteral></URILiteral></ModuleImport></Import><Separator><TOKEN>;</TOKEN></Separator>&#xD;
&#xD;
(:~ graphxq server url :)&#xD;
<AnnotatedDecl><TOKEN>declare</TOKEN> <VarDecl><TOKEN>variable</TOKEN> <TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>gxq:server</QName></FunctionName></QName></EQName></VarName><TOKEN>:=</TOKEN> <VarValue><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>"http://localhost:8984/graphxq/"</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></VarValue></VarDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>&#xD;
&#xD;
(:~ test server available :)&#xD;
<AnnotatedDecl><TOKEN>declare</TOKEN> <VarDecl><TOKEN>variable</TOKEN> <TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>gxq:server-ok</QName></FunctionName></QName></EQName></VarName> <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><AtomicOrUnionType><EQName><QName><FunctionName><QName>xs:boolean</QName></FunctionName></QName></EQName></AtomicOrUnionType></ItemType></SequenceType></TypeDeclaration><TOKEN>:=</TOKEN> <VarValue><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><NumericLiteral><IntegerLiteral>200</IntegerLiteral></NumericLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr><GeneralComp><TOKEN>=</TOKEN></GeneralComp><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>http:send-request</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>http:request</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>method</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>g</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>status-only</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>u</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>gxq:server</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr><TOKEN>/</TOKEN><StepExpr><AxisStep><ForwardStep><AbbrevForwardStep><TOKEN>@</TOKEN><NodeTest><NameTest><EQName><QName><FunctionName><QName>status</QName></FunctionName></QName></EQName></NameTest></NodeTest></AbbrevForwardStep></ForwardStep><PredicateList/></AxisStep></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></VarValue></VarDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>&#xD;
&#xD;
(:~&#xD;
 : convert dotml to svg &#xD;
 : @parm $data is dotml as XML&#xD;
 :)&#xD;
<AnnotatedDecl><TOKEN>declare</TOKEN> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>gxq:dotml2</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><ParamList><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName> <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><TOKEN>*</TOKEN></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType></TypeDeclaration></Param></ParamList><TOKEN>)</TOKEN> &#xD;
<TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><DocumentTest><TOKEN>document-node</TOKEN><TOKEN>(</TOKEN><TOKEN>)</TOKEN></DocumentTest></KindTest></ItemType></SequenceType>&#xD;
<FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>&#xD;
<Expr><ExprSingle><FLWORExpr><InitialClause><LetClause><TOKEN>let</TOKEN> <LetBinding><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName></VarName><TOKEN>:=</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>multipart</QName></FunctionName></QName><DirAttributeList><S>  </S><QName><FunctionName><QName>xmlns</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>:</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>.</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>g</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>c</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>media-type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>m</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>u</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>f</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>m</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>d</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>header</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>name</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>C</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>D</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>value</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>f</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>-</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>d</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>;</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>=</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>"</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>d</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>"</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>body</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>media-type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>m</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>multipart</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></LetBinding></LetClause></InitialClause>&#xD;
<ReturnClause><TOKEN>return</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>gxq:post</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>'/api/dotml'</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></ReturnClause></FLWORExpr></ExprSingle></Expr>&#xD;
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>&#xD;
&#xD;
(:~&#xD;
 : convert dot to svg &#xD;
 : @parm $data is dot as text&#xD;
 :)&#xD;
<AnnotatedDecl><TOKEN>declare</TOKEN> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>gxq:dot</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><ParamList><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName> <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><AtomicOrUnionType><EQName><QName><FunctionName><QName>xs:string</QName></FunctionName></QName></EQName></AtomicOrUnionType></ItemType></SequenceType></TypeDeclaration></Param></ParamList><TOKEN>)</TOKEN> &#xD;
<TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><DocumentTest><TOKEN>document-node</TOKEN><TOKEN>(</TOKEN><TOKEN>)</TOKEN></DocumentTest></KindTest></ItemType></SequenceType>&#xD;
<FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>&#xD;
 <Expr><ExprSingle><FLWORExpr><InitialClause><LetClause><TOKEN>let</TOKEN> <LetBinding><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName></VarName><TOKEN>:=</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>multipart</QName></FunctionName></QName><DirAttributeList><S>  </S><QName><FunctionName><QName>xmlns</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>:</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>.</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>g</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>c</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>media-type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>m</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>u</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>f</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>m</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>d</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>header</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>name</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>C</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>D</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue><S> </S><QName><FunctionName><QName>value</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>'</TOKEN><AposAttrValueContent><AposAttrContentChar>f</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>o</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>r</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>-</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>d</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>;</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar> </AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>n</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>m</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>e</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>=</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>"</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>d</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>t</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>a</AposAttrContentChar></AposAttrValueContent><AposAttrValueContent><AposAttrContentChar>"</AposAttrContentChar></AposAttrValueContent><TOKEN>'</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>body</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>media-type</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>/&gt;</TOKEN></DirElemConstructor></DirectConstructor></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>multipart</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></LetBinding></LetClause></InitialClause>&#xD;
<ReturnClause><TOKEN>return</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>gxq:post</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>'/api/dotml'</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN> <Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></ReturnClause></FLWORExpr></ExprSingle></Expr>&#xD;
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator>&#xD;
&#xD;
(:~ graphxq request :)&#xD;
<AnnotatedDecl><TOKEN>declare</TOKEN> <FunctionDecl><TOKEN>function</TOKEN> <EQName><QName><FunctionName><QName>gxq:post</QName></FunctionName></QName></EQName><TOKEN>(</TOKEN><ParamList><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>url</QName></FunctionName></QName></EQName> <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><AtomicOrUnionType><EQName><QName><FunctionName><QName>xs:string</QName></FunctionName></QName></EQName></AtomicOrUnionType></ItemType></SequenceType></TypeDeclaration></Param><TOKEN>,</TOKEN> <Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName> <TypeDeclaration><TOKEN>as</TOKEN> <SequenceType><ItemType><KindTest><ElementTest><TOKEN>element</TOKEN><TOKEN>(</TOKEN><ElementNameOrWildcard><ElementName><EQName><QName><FunctionName><QName>http:multipart</QName></FunctionName></QName></EQName></ElementName></ElementNameOrWildcard><TOKEN>)</TOKEN></ElementTest></KindTest></ItemType></SequenceType></TypeDeclaration></Param><TOKEN>,</TOKEN><Param><TOKEN>$</TOKEN><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName></Param></ParamList> <TOKEN>)</TOKEN>&#xD;
<FunctionBody><EnclosedExpr><TOKEN>{</TOKEN>&#xD;
  <Expr><ExprSingle><FLWORExpr><InitialClause><LetClause><TOKEN>let</TOKEN> <LetBinding><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>req</QName></FunctionName></QName></EQName></VarName><TOKEN>:=</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Constructor><DirectConstructor><DirElemConstructor><TOKEN>&lt;</TOKEN><QName><FunctionName><QName>http:request</QName></FunctionName></QName><DirAttributeList><S> </S><QName><FunctionName><QName>method</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>P</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>O</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>S</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>T</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue><S>  </S><QName><FunctionName><QName>xmlns</QName></FunctionName></QName><TOKEN>=</TOKEN><DirAttributeValue><TOKEN>"</TOKEN><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>:</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>x</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>a</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>.</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>o</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>r</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>g</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>s</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>/</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>h</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>p</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>-</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>c</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>l</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>i</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>e</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>n</QuotAttrContentChar></QuotAttrValueContent><QuotAttrValueContent><QuotAttrContentChar>t</QuotAttrContentChar></QuotAttrValueContent><TOKEN>"</TOKEN></DirAttributeValue></DirAttributeList><TOKEN>&gt;</TOKEN><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><CommonContent><EnclosedExpr><TOKEN>{</TOKEN> <Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>form</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>}</TOKEN></EnclosedExpr></CommonContent></DirElemContent><DirElemContent><ElementContentChar>&#xD;</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar>
</ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><DirElemContent><ElementContentChar> </ElementContentChar></DirElemContent><TOKEN>&lt;/</TOKEN><QName><FunctionName><QName>http:request</QName></FunctionName></QName><TOKEN>&gt;</TOKEN></DirElemConstructor></DirectConstructor></Constructor></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></LetBinding></LetClause></InitialClause>&#xD;
  <IntermediateClause><InitialClause><LetClause><TOKEN>let</TOKEN> <LetBinding><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>res</QName></FunctionName></QName></EQName></VarName><TOKEN>:=</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>http:send-request</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>req</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>,</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>gxq:server</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr> <TOKEN>||</TOKEN> <RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>url</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument> <TOKEN>,</TOKEN><Argument><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><ParenthesizedExpr><TOKEN>(</TOKEN><Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>data</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>)</TOKEN></ParenthesizedExpr></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Argument><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></LetBinding></LetClause></InitialClause></IntermediateClause>&#xD;
<ReturnClause><TOKEN>return</TOKEN> <ExprSingle><IfExpr><TOKEN>if</TOKEN><TOKEN>(</TOKEN><Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>res</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr><Predicate><TOKEN>[</TOKEN><Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><NumericLiteral><IntegerLiteral>1</IntegerLiteral></NumericLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>]</TOKEN></Predicate></PostfixExpr></StepExpr><TOKEN>/</TOKEN><StepExpr><AxisStep><ForwardStep><AbbrevForwardStep><TOKEN>@</TOKEN><NodeTest><NameTest><EQName><QName><FunctionName><QName>status</QName></FunctionName></QName></EQName></NameTest></NodeTest></AbbrevForwardStep></ForwardStep><PredicateList/></AxisStep></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr><GeneralComp><TOKEN>=</TOKEN></GeneralComp><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><StringLiteral>"200"</StringLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>)</TOKEN> <TOKEN>then</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><VarRef><TOKEN>$</TOKEN><VarName><EQName><QName><FunctionName><QName>res</QName></FunctionName></QName></EQName></VarName></VarRef></PrimaryExpr><Predicate><TOKEN>[</TOKEN><Expr><ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><Literal><NumericLiteral><IntegerLiteral>2</IntegerLiteral></NumericLiteral></Literal></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></Expr><TOKEN>]</TOKEN></Predicate></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle> <TOKEN>else</TOKEN> <ExprSingle><OrExpr><AndExpr><ComparisonExpr><FTContainsExpr><StringConcatExpr><RangeExpr><AdditiveExpr><MultiplicativeExpr><UnionExpr><IntersectExceptExpr><InstanceofExpr><TreatExpr><CastableExpr><CastExpr><TransformWithExpr><BasexUpdate1Expr><BasexUpdateExpr><ArrowExpr><UnaryExpr><ValueExpr><SimpleMapExpr><PathExpr><RelativePathExpr><StepExpr><PostfixExpr><PrimaryExpr><FunctionCall><FunctionEQName><FunctionName><QName>error</QName></FunctionName></FunctionEQName><ArgumentList><TOKEN>(</TOKEN><TOKEN>)</TOKEN></ArgumentList></FunctionCall></PrimaryExpr></PostfixExpr></StepExpr></RelativePathExpr></PathExpr></SimpleMapExpr></ValueExpr></UnaryExpr></ArrowExpr></BasexUpdateExpr></BasexUpdate1Expr></TransformWithExpr></CastExpr></CastableExpr></TreatExpr></InstanceofExpr></IntersectExceptExpr></UnionExpr></MultiplicativeExpr></AdditiveExpr></RangeExpr></StringConcatExpr></FTContainsExpr></ComparisonExpr></AndExpr></OrExpr></ExprSingle></IfExpr></ExprSingle></ReturnClause></FLWORExpr></ExprSingle></Expr>&#xD;
<TOKEN>}</TOKEN></EnclosedExpr></FunctionBody></FunctionDecl></AnnotatedDecl><Separator><TOKEN>;</TOKEN></Separator></Prolog></LibraryModule></Module>&#xD;
<EOF/></XQuery>